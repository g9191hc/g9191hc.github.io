---
title: 2. 리습으로 캐드명령어 사용 해 보기 (command)
date: 2024-03-25 11:23:00 +09:00
categories:
  - 오토리습
  - 오토리습배우기
tags:
  - autolisp
  - command
image:
---

assets/img/attachment/웹 스크롤 헤더핀.gif
### 목표
캐드에서 자체적으로 제공하는 명령어(`Line`, `Rectangle` 등)을 **리습**으로 실행 해 봅시다.

---

### command 함수로 캐드명령어 실행
캐드에서 이미 사용 해 왔던 명령어들은 `(command)`함수로 동일하게 실행 할 수 있습니다.
line함수로 선을 한 번 그려봅시다.
아래의 코드를 복사해서 캐드 명령어창에 붙여넣어 실행 해 보세요.
```lisp
(command "line")
```
축하합니다! 이제 리습으로 캐드 명령어를 실행하실 수 있게 되었습니다!

#### 설명
`리습(LISP)`언어에서는 모든것이 `(`로 시작해서 `)`로 끝나는 **리스트**로 이루어져 있습니다. 따라서 <span style="color:#2196F3">함수조차도 리스트</span>로 구성됩니다. 리스트의 각 요소들의 구분은 **띄어쓰기** 입니다. ***1칸 이상***만 띄어져 있으면 됩니다.

**함수명**은 리스트의 *첫 번째 요소*이며, 그 함수에 **필요한 인자**들은 *두 번째 요소부터* 들어가게 됩니다.
위 리스트의 첫 번째 요소는 <span style="color:#FFEB3B">command</span>라는 함수명이 들어있고, 두 번째 요소는 command함수 실행에 필요한 첫 번째 인자인 <span style="color:#4CAF50">실행 할 명령어</span>입니다. 이 명령어는 `""`(큰따옴표)안에 들어가야 합니다. 리습에서는 `문자열`을 `""`안에 입력합니다.

---
### 좌표를 입력 해 봅시다
단순히 명령어 하나만 입력할거라면 굳이 command를 사용 할 필요도 없겠죠. 이제 좌표를 넣어서 한번의 입력으로 선을 하나 만들어 봅시다.
```lisp
(command "line" "0,0" "100,100" "")
```
이 리습을 실행 해 보면 `(0,0)`과 `(100,100)`를 두 점으로 하는 `선`이 그려지게 됩니다.

![](assets/img/attachment/2.%20리습으로%20캐드명령어%20사용%20해%20보기-1.png)
#### 설명
command함수에 필요한 인자들은, 명령어를 실행하면서 추가로 입력받는 값들과 **순서가 동일**합니다.
각각의 명령어들은 순서대로 입력받는 값들이 정해져 있죠.
만약 line명령어를 사용해서 위와 동일한 선을 만든다면, 명령어창에 남은 내용은 다음과 같을 겁니다.
![](assets/img/attachment/2.%20리습으로%20캐드명령어%20사용%20해%20보기.png)

먼저 저는 line 명령어를 사용하기 위해서 단축키인 *L*을 입력했습니다.
캐드에서는 L을 입력하면 LINE명령을 실행하도록 지정되어 있으므로, 바로 다음 줄에 자동으로 원래 명령어인 `LINE`이 입력되어 실행됩니다.
LINE명령은 점 2개를 입력받습니다. 저는 순서대로 `0,0`, `100,100`을 입력했고 두번째 입력값은 자동으로 상대좌표로 들어가게 되므로 실제 입력값은 **0,0**, **@100,100**이 입력되었네요. 0,0으로부터 100,100이니 절대좌표로도 상대좌표로도 동일한 위치입니다.
마지막으로 추가로 선을 그리지 않을 것이기 때문에 아무것도 입력하지 않은 상태에서 `스페이스바`를 한번 눌러서 LINE명령을 종료했습니다.

따라서 위의 그림과 같이, 실제적으로 명령어창에 입력된 정보들은 순서대로 다음과 같습니다.
>`LINE`, `0,0`, `100,100`, `스페이스바`

이걸 command함수에 사용 할 경우에는, 각각의 값을 `""` 안에 넣어서 **문자열**로 만들어야 합니다.
>`"LINE"`, `"0,0"`, `"100,100"`, `""`

스페이스바는 아무것도 입력하지 않은 것이므로 `""`안에 아무것도 넣지 않습니다.

이걸 command함수에 넣게되면 다음과 같이 됩니다. 각 인자들은 띄어쓰기로 구분합니다.
>`(command "LINE" "0,0" "100,100" "")`

만약 시작점이 0,0이 아니고, 그 점으로부터 **상대좌표로 100,100** 떨어진 곳에 선을 만들고 싶다면, 명령어 사용하실 때와 동일하게 앞에 `@`를 추가하시면 됩니다. 예를 들어 아래 두 명령어는 동일하게 `50,50`과 `150,150`를 두 점으로 하는 선을 만들겠죠
>`(command "LINE" "50,50" "@100,100" "")`
>`(command "LINE" "50,50" "150,150" "")`

---
### 팁
command함수로 실행할 명령어에 어떤값이 어떤순서로 들어가는지 모르겠다면, 우선 그 **명령어를 실행**해서 원하시는 기능을 수행 해 보세요.
그 후에 `F2`(명령어창 확장) 또는 `Ctrl`+`F2`(명령어창 띄우기)를 누르면, 순서대로 어떤 값들이 입력되었는지를 **확인** 할 수 있습니다.
그 값들을 순서대로 `""`로 감싸서 command 함수에 **순서대로** 넣어주면 됩니다.

![](assets/img/attachment/웹%20스크롤%20헤더핀.gif)